(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c0e4471"],{"0a3d":function(e,t,a){"use strict";var i=a("fed8"),s=a.n(i);s.a},"0cfd":function(e,t,a){"use strict";var i=a("24de"),s=a.n(i);s.a},"24de":function(e,t,a){},"5f57":function(e,t,a){},"60d0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"classificationList"},[e.updateCaseListDialog.show?a("caseListDialog",{attrs:{isShow:e.updateCaseListDialog.show,dialogRow:e.updateCaseListDialog.dialogRow},on:{getCaseList:e.getDataList,closeDialog:e.hideUpdateCaseListDialog}}):e._e(),a("el-button",{staticClass:"add-case",attrs:{type:"primary",size:"large"},on:{click:function(t){return e.lookCaseListStatus(e.dialogTitle="添加案例列表")}}},[e._v("添加案例")]),a("select-system",{on:{selectSystem:function(t){return e.selectSystem(t)}}}),a("selectCaseType",{attrs:{caseList:e.caseList},on:{selectCaseType:function(t){return e.selectCaseType(t)}}}),a("search",{ref:"search",on:{searchUserList:function(t){return e.searchUserList(t)}}}),a("div",{staticClass:"table_container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,align:"center"}},[a("el-table-column",{attrs:{align:"center",label:"启停",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{disabled:"","active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.changeSwitch(t.row)}},model:{value:t.row.enable,callback:function(a){e.$set(t.row,"enable",a)},expression:"scope.row.enable"}})]}}])}),a("el-table-column",{attrs:{label:"排序",align:"center",width:"80",prop:"id"}}),a("el-table-column",{attrs:{label:"分类名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",[e._v(e._s(t.row.type))])]}}])}),a("el-table-column",{attrs:{prop:"type_name",label:"名称",align:"center"}}),e.idFlag?a("el-table-column",{attrs:{prop:"address",label:"分类名称",align:"center"}}):e._e(),a("el-table-column",{attrs:{label:"跳转地址",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入内容",disabled:!0},model:{value:t.row.jumpAddress,callback:function(a){e.$set(t.row,"jumpAddress",a)},expression:"scope.row.jumpAddress"}})]}}])}),a("el-table-column",{attrs:{prop:"update_time",label:"更新时间",align:"center",sortable:"",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-icon",{attrs:{name:"time"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(Date.format(t.row.update_time)))])]}}])}),a("el-table-column",{attrs:{prop:"operation",align:"center",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"edit",size:"mini"},on:{click:function(a){return e.lookCaseListStatus(t.row,e.dialogTitle="编辑案例列表")}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){return e.deleteCaeList(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{attrs:{pageTotal:e.pageTotal},on:{handleCurrentChange:e.handleCurrentChange,handleSizeChange:e.handleSizeChange}})],1)],1)},s=[],o=(a("5ab2"),a("6d57"),a("e10e"),a("c0c3"),a("70ea")),n=a("f2bd"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.isVisible,title:e.dialogRow.title,"close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1,center:""},on:{"update:visible":function(t){e.isVisible=t},close:e.closeDialog}},[a("div",{staticClass:"form"},[a("el-form",{ref:"form",staticClass:"case-list-dialog",staticStyle:{margin:"10px",width:"auto"},attrs:{model:e.ruleForm,rules:e.form_rules,"label-width":e.dialog.formLabelWidth}},[a("el-form-item",{attrs:{label:"启停"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.ruleForm.enable,callback:function(t){e.$set(e.ruleForm,"enable",t)},expression:"ruleForm.enable"}})],1),a("el-form-item",{attrs:{prop:"type",label:"分类"}},[a("el-select",{attrs:{placeholder:"请选择分类级别"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},e._l(e.caseOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{prop:"type_name",label:"案例名称"}},[a("el-input",{model:{value:e.ruleForm.type_name,callback:function(t){e.$set(e.ruleForm,"type_name",t)},expression:"ruleForm.type_name"}})],1),a("el-form-item",{attrs:{prop:"accoutCash",label:"案例图"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.successImg,"before-upload":e.beforeUploadImg,limit:1}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"文本对齐"}},[a("el-select",{attrs:{placeholder:"请选择对齐方式"},model:{value:e.ruleForm.alignment,callback:function(t){e.$set(e.ruleForm,"alignment",t)},expression:"ruleForm.alignment"}},e._l(e.alignmentOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"文本"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.text,callback:function(t){e.$set(e.ruleForm,"text",t)},expression:"ruleForm.text"}})],1),a("el-form-item",{attrs:{label:"案例详情图"}},[a("el-upload",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.removeImgList,limit:9,multiple:""}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确 定")]),a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")])],1)])},l=[],c=a("5880"),u=a("9cf5");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={name:"caseListDialog",data:function(){return{isVisible:this.isShow,ruleForm:{type_name:"",update_time:"",type:"",enable:!0,suffix:"",directory:"",url:""},form_rules:{type:[{required:!0,message:"分类不能为空",trigger:"change"}],type_name:[{required:!0,message:"案例名称不能为空",trigger:"blur"}]},startStop:!0,imageUrl:"",dialog:{width:"400px",formLabelWidth:"120px"},isClear:!1,caseOptions:[],staticNumber:0,ClassificationStatusItems:[{name:"默认"},{name:"自定义"}],isCanSelectAddress:!0,alignmentOptions:[{value:0,label:"文本左对齐"},{value:1,label:"文本居中对齐"},{value:2,label:"文本右对齐"}],dialogImageUrl:"",dialogVisible:!1}},props:{isShow:Boolean,dialogRow:Object},components:d({},Object(c["mapGetters"])(["systemType"])),computed:{},created:function(){},mounted:function(){var e=this;"添加案例列表"===this.dialogRow.type?this.$nextTick((function(){e.$refs["form"].resetFields()})):this.ruleForm=this.dialogRow,this.getCaseTypeList()},methods:{getCaseTypeList:function(){var e=this,t={pid:this.systemType,pageNum:1,pageSize:20};Object(u["a"])(t).then((function(t){0===t.code&&(e.caseOptions=t.data||[])}))},successImg:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeUploadImg:function(e){var t="image/jpg"===e.type||"image/png"===e.type,a=e.size/1024/1024<5;return t||this.$message.error("上传缩略图只能是 JPG或者PNG 格式!"),a||this.$message.error("上传缩略图大小不能超过 5MB!"),t&&a},onSubmit:function(e){var t=this;this.$refs[e].validate((function(a){if(a){var i=t[e],s=Object.assign({},i);console.log(s),"edit"===t.addFundDialog.type?(t.showLoading(),updateMoney(s).then((function(e){t.$message({message:"修改成功",type:"success"}),t.hideLoading(),t.$refs["form"].resetFields(),t.isVisible=!1,t.$emit("getCaseList")}))):(t.showLoading(),addMoney(s).then((function(e){t.$message({message:"新增成功",type:"success"}),t.hideLoading(),t.$refs["form"].resetFields(),t.isVisible=!1,t.$emit("getCaseList")})))}}))},getClassificationStatus:function(e){this.staticNumber=e,this.isCanSelectAddress=1!==e},removeImgList:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},closeDialog:function(){this.$emit("closeDialog")},showLoading:function(){var e=this.$loading({lock:!0,text:"上传中,请稍后...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});return e},hideLoading:function(){var e=this.show();e.close()}}},m=g,f=(a("0cfd"),a("4023")),h=Object(f["a"])(m,r,l,!1,null,"534a2834",null),b=h.exports,y=a("b340"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"select-case-type inline-block"},[a("span",{staticClass:"system-type-text"},[e._v("案例类型")]),a("el-select",{attrs:{size:"large",placeholder:"请选择分类"},on:{change:e.changeType},model:{value:e.caseType,callback:function(t){e.caseType=t},expression:"caseType"}},e._l(e.caseTypeOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.type_name,value:e.type}})})),1)],1)},w=[];function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L={name:"selectCaseType",data:function(){return{caseType:"app",caseTypeOptions:[],paginationForm:{pid:"pc",pageNum:1,pageSize:20}}},props:{caseList:Array},computed:C({},Object(c["mapGetters"])(["systemType"])),watch:{caseList:function(){this.caseTypeOptions=this.caseList}},methods:{changeType:function(){this.$emit("selectCaseType",this.caseType)}}},j=L,D=(a("0a3d"),Object(f["a"])(j,v,w,!1,null,"e53a3188",null)),S=D.exports,_=a("a27e");function T(e){return Object(_["a"])({url:"/zngl/caseList",method:"post",data:e})}function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P={data:function(){return{tableData:[],ruleForm:{type_name:"",update_time:"",type:"",enable:!0,suffix:"",directory:"",url:""},tableHeight:0,loading:!0,idFlag:!1,isShow:!1,updateCaseListDialog:{show:!1,dialogRow:{}},caseList:[],paginationForm:{opr:"list",pid:"pc",pageNum:1,pageSize:20,type:"app",searchName:""},pageTotal:7,startStop:!0,searchVal:"",dialog:{width:"400px",formLabelWidth:"120px"},copyData:[],isCanSelectAddress:!0,dialogTitle:""}},components:{caseListDialog:b,selectSystem:y["a"],selectCaseType:S},computed:{},created:function(){},mounted:function(){this.getDataList(),this.getCaseTypeList(),this.setTableHeight(),this.loading=!1},methods:{setTableHeight:function(){var e=this;this.$nextTick((function(){e.tableHeight=document.body.clientHeight-300}))},getDataList:function(){var e=this,t=this.paginationForm;T(t).then((function(t){0===t.code&&(e.tableData=t.data,e.pageTotal=t.count)}))},getCaseTypeList:function(e){var t=this,a={pid:e||"pc",pageNum:1,pageSize:20};Object(u["a"])(a).then((function(e){0===e.code&&(t.caseList=e.data)}))},handleCurrentChange:function(e){this.paginationForm.pageNum=e,this.getDataList()},handleSizeChange:function(e){this.paginationForm.pageSize=e,this.getDataList()},showUpdateCaseListDialog:function(){this.updateCaseListDialog.show=!0},hideUpdateCaseListDialog:function(){this.updateCaseListDialog.show=!1},lookCaseListStatus:function(e){"添加案例列表"==this.dialogTitle?(this.ruleForm.title="添加案例列表",this.updateCaseListDialog.dialogRow=F({},this.ruleForm)):(e.title="修改案例列表",this.updateCaseListDialog.dialogRow=F({},e)),this.showUpdateCaseListDialog()},deleteCaeList:function(e){var t=this;this.alertMsgBox().then((function(){t.message("删除案例成功")})).catch((function(e){t.message("已取消","info")}))},changeSwitch:function(e){console.log(e,"switch")},selectSystem:function(e){this.paginationForm.pid=e,this.getDataList(),this.getCaseTypeList(e)},selectCaseType:function(e){this.paginationForm.type=e,this.getDataList(),this.loading=!1,this.copyData=Object(n["a"])(this.tableData)},searchUserList:function(e){var t=this;console.log(e,"我是搜索"),this.paginationForm.searchName=e,this.getDataList(),setTimeout((function(){t.$refs.search.searchVal="",t.paginationForm.searchName=""}),1e3)}}},x=P,$=(a("7c62"),Object(f["a"])(x,i,s,!1,null,"52e4bbe8",null));t["default"]=$.exports},"7c62":function(e,t,a){"use strict";var i=a("5f57"),s=a.n(i);s.a},"9cf5":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a("a27e");function s(e){return Object(i["a"])({url:"/zngl/caseType",method:"post",data:e})}},fed8:function(e,t,a){}}]);