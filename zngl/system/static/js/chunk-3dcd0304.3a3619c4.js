(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dcd0304"],{7907:function(e,t,n){},"9c64":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"historyRecord"},[n("page-type-cps",{on:{selectPage:function(t){return e.selectPage(t)}}}),n("select-system",{directives:[{name:"show",rawName:"v-show",value:"userInfo"!==e.pageType,expression:"pageType !== 'userInfo'"}],on:{selectSystem:function(t){return e.selectSystem(t)}}}),n("search",{ref:"search",on:{searchUserList:function(t){return e.searchUserList(t)}}}),n("div",{staticClass:"table_container"},["userInfo"==e.pageType?n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,align:"center"}},[n("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center"}}),n("el-table-column",{attrs:{prop:"phone",label:"联系电话",align:"center"}}),n("el-table-column",{attrs:{prop:"wx",label:"邮箱/微信",align:"center"}}),n("el-table-column",{attrs:{prop:"vip",label:"vip",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.vip?"是":"否"))])]}}],null,!1,1429348901)}),n("el-table-column",{attrs:{prop:"leaving",label:"留言",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:t.row.leaving}},[n("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.leaving))])])]}}],null,!1,1761427224)}),n("el-table-column",{attrs:{prop:"operation",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{icon:"edit",size:"mini"},on:{click:function(n){return e.restoreRecording(t.row)}}},[e._v("恢复")]),n("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(n){return e.deleteRecording(t.row)}}},[e._v("删除")])]}}],null,!1,2984151550)})],1):e._e(),"orderDetails"==e.pageType?n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[n("el-table-column",{attrs:{prop:"name",label:"客户姓名",align:"center"}}),n("el-table-column",{attrs:{prop:"phone",label:"联系电话",align:"center"}}),n("el-table-column",{attrs:{prop:"service",label:"服务项目",align:"center"}}),n("el-table-column",{attrs:{prop:"begin_time",label:"开始时间",align:"center"}}),n("el-table-column",{attrs:{prop:"of_time",label:"结束时间",align:"center"}}),n("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{class:e.switchConverObj(t.row.state).cls},[e._v(e._s(e.switchConverObj(t.row.state).val))])]}}],null,!1,1705709023)}),n("el-table-column",{attrs:{prop:"money",label:"交易金额",align:"center"}}),n("el-table-column",{attrs:{prop:"operation",align:"center",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{icon:"edit",size:"mini"},on:{click:function(n){return e.restoreRecording(t.row)}}},[e._v("恢复")]),n("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(n){return e.deleteRecording(t.row)}}},[e._v("删除")])]}}],null,!1,2984151550)})],1):e._e(),n("pagination",{attrs:{pageTotal:e.pageTotal},on:{handleCurrentChange:e.handleCurrentChange,handleSizeChange:e.handleSizeChange}})],1)],1)},r=[],o=(n("5ab2"),n("6d57"),n("e10e"),n("70ea")),l=n("5880"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-type inline-block"},[n("span",{staticClass:"page-type-text"},[e._v("页面类型")]),n("el-select",{attrs:{size:"large",placeholder:"请选择分类"},on:{change:e.changePageType},model:{value:e.pageType,callback:function(t){e.pageType=t},expression:"pageType"}},e._l(e.pageTypeOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)},i=[],c={name:"pageType",data:function(){return{pageType:"userInfo",pageTypeOptions:[{value:"userInfo",label:"客户信息"},{value:"orderDetails",label:"订单详情"}]}},methods:{changePageType:function(){this.$emit("selectPage",this.pageType)}}},p=c,u=(n("ec13"),n("4023")),g=Object(u["a"])(p,s,i,!1,null,"09cb9720",null),f=g.exports,h=n("a27e");function b(e){return Object(h["a"])({url:"/zngl/historyRecord",method:"post",data:e})}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={name:"historyRecord",data:function(){return{tableData:[],pageTotal:1,paginationForm:{opr:"list",pid:"pc",pageNum:1,pageSize:20,searchName:""},pageType:"userInfo"}},components:{pageTypeCps:f},computed:m({},Object(l["mapGetters"])(["systemType"])),mounted:function(){this.getDataList()},methods:{getDataList:function(){var e=this;b(m(m({},this.paginationForm),{},{filterType:"userInfo"==this.pageType?0:1})).then((function(t){e.tableData=t&&t.data}))},handleCurrentChange:function(e){this.paginationForm.pageNum=e,this.getDataList()},handleSizeChange:function(e){this.paginationForm.pageSize=e,this.getDataList()},switchConverObj:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return{0:{val:"已完成",cls:'"completed"'},1:{val:"进行中",cls:"processing"},2:{val:"未完成",cls:"undone"}}[e]},restoreRecording:function(e){var t=this;console.log(e,"row"),e.opr="restore",e.filterType="userInfo"==this.pageType?0:1,this.alertMsgBox("此操作将恢复该数据,是否继续?").then((function(){b(e).then((function(e){t.message(e.msg),e.success&&t.getDataList()}))})).catch((function(e){t.message("已取消","info")}))},deleteRecording:function(e){var t=this;console.log(e,"row"),e.opr="delete",e.filterType="userInfo"==this.pageType?0:1,this.alertMsgBox("此操作将永久删除该数据,是否继续?").then((function(){b(e).then((function(e){t.message(e.msg),e.success&&t.getDataList()}))})).catch((function(e){t.message("已取消","info")}))},selectSystem:function(e){this.paginationForm.pid=e,this.getDataList()},selectPage:function(e){console.log(e,"val"),this.pageType=e,this.getDataList()},searchUserList:function(e){console.log(e,"我是搜索"),this.paginationForm.searchName=e,this.getDataList()}}},v=y,w=(n("f5be"),Object(u["a"])(v,a,r,!1,null,"3dc11af6",null));t["default"]=w.exports},ec13:function(e,t,n){"use strict";var a=n("fc95"),r=n.n(a);r.a},f5be:function(e,t,n){"use strict";var a=n("7907"),r=n.n(a);r.a},fc95:function(e,t,n){}}]);